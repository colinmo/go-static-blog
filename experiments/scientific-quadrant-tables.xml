<svg aria-hidden="true"
    class="icon"
    style="width:1024px;height:960px;"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <style>
        text {
            font-family: "Trebuchet MS", Helvetica, sans-serif ;
        }
        .labels text {
            fill: white;
            font-family: arial;
            text-transform: uppercase;
            font-weight: bold;
        }
        .legends text {
            fill: rgba(128, 0, 0, 0.8);
            font-family: arial;
            font-size: 1.3em; 
        }
        circle {
            r: 4px;
            fill: rgba(128, 0, 0, 0.8);
            stroke: rgba(128, 0, 0, 0.8);
        }
        .dots text {
            text-anchor: middle;
        }
    </style>
    <!-- borders and quadrants -->
    <rect x="536px" y="1px" width="486px" height="303px" style="fill:#53210933;stroke:#532109aa;stroke-width:3px;"></rect>
    <rect x="50px" y="304px" width="486px" height="303px" style="fill:#53210933;stroke:#532109aa;stroke-width:3px;"></rect>
    <rect x="536px" y="607px" width="486px" height="303px" style="fill:#53210933;stroke:#532109aa;stroke-width:3px;"></rect>
    <rect x="50px" y="2px" width="972px" height="910px" style="fill:transparent;stroke:#532109;stroke-width:5px;"></rect>    
    <!-- labels and axis -->
    <g class="legends">
    <text style="transform: rotate(-90deg) translate(-910px, 45px);">EXPERIENCE &#10132;</text>
    <text x="50px" y="933px">PERSONAL vs. PROFESSIONAL &#10132;</text>
    </g>
    <g class="labels">
        <path d="M52,607 l150,0 l0,16 a-8,-8 1 0 1 -8 8 l-142 0 Z" style="fill:rgba(128,0,0,0.8);"></path>
        <text x="55px" y="627px">Dabbler</text>
        <path d="M52,305 l150,0 l0,16 a-8,-8 1 0 1 -8 8 l-142 0 Z" style="fill:rgba(128,0,0,0.8);"></path>
        <text x="55px" y="325px">Hobbiest</text>
        <path d="M52,3 l150,0 l0,16 a-8,-8 1 0 1 -8 8 l-142 0 Z" style="fill:rgba(128,0,0,0.8);"></path>
        <text x="55px" y="23px">Optimist</text>
        
        <path d="M1020,607 l-150,0 l0,16 a8,-8 1 0 0 8 8 l142 0 Z" style="fill:rgba(128,0,0,0.8);"></path>
        <text style="text-anchor: end;" x="1016px" y="627px">Unicorn</text>
        <path d="M1020,305 l-150,0 l0,16 a8,-8 1 0 0 8 8 l142 0 Z" style="fill:rgba(128,0,0,0.8);"></path>
        <text style="text-anchor: end;" x="1016px" y="325px">Developer</text>
        <path d="M1020,3 l-150,0 l0,16 a8,-8 1 0 0 8 8 l142 0 Z" style="fill:rgba(128,0,0,0.8);"></path>
        <text style="text-anchor: end;" x="1016px" y="23px">Senior Dev</text>
    </g>
    <!-- Centers
        <text x="297px" y="758.5px">Dabbler</text>
        <text x="297px" y="457px">Hobbiest</text>
        <text x="297px" y="152px">Optimist</text>

        <text x="779px" y="758.5px">Unicorn</text>
        <text x="779px" y="457px">Developer</text>
        <text x="779px" y="152px">Senior Dev</text>
    -->
    <g class="dots">
     <cript>
        var skills = {
            "sn": {
                "lang": ["PHP", "JavaScript", "SQL"],
                "lib": ["JQuery", "Pandoc"],
                "skill": ["Bus' Analysis","Sol'n Architecture","Process Engineering"],
                "x": 779,
                "y": 152
            },
            "dv": {
                "lang": ["CSS", "HTML", "PL/SQL"],
                "lib": ["Symfony","Foundation"],
                "skill": [],
                "x": 779,
                "y": 457
            },
            "un": {
                "lang": [],
                "lib": [],
                "skill": [],
                "x": 779,
                "y": 758.5
            },
            "op": {
                "lang": [],
                "lib": [],
                "skill": [],
                "x": 297,
                "y": 152
            },
            "hb": {
                "lang": ["Go"],
                "lib": [],
                "skill": [],
                "x": 297,
                "y": 457
            },
            "db": {
                "lang": ["Ruby"],
                "lib": [],
                "skill": [],
                "x": 297,
                "y": 758.5
            }
        }
        var xmlns = "http://www.w3.org/2000/svg";
        var appendTo = document.querySelector("g.dots")
        var distanceFromCentre = 110
        Object.entries(skills).forEach(([key,value])=>{
            combinedCount = value.lang.length + value.lib.length + value.skill.length;
            if (combinedCount == 0) {
                // Nothing to do
            } else if (combinedCount == 1) {
                var textElem = document.createElementNS(xmlns, "text")
                textElem.setAttributeNS(null, "x", value.x);
                textElem.setAttributeNS(null, "y", value.y);
                if (value.lang.length == 1) {
                    textElem.append(value.lang[0])
                } else {
                    textElem.append(value.lib[0])
                }
                appendTo.append(textElem)
            } else {
                // Spin them 'round the middle
                startIndex = Math.floor(Math.random() * 360)
                addDegrees = 360 / combinedCount
                theseDegrees = startIndex
                
                Object.entries(value).forEach(([key2,y]) => {
                    let prefix = "";
                    switch (key2) {
                        case 'lib': prefix = "&#x1f4d6;";break;
                        case "lang": prefix = "{}"; break; // "&#x2328;";break;
                        case "skill": prefix = "&#x1f9e0;"; break;
                    }
                    if (prefix == "") {
                        return;
                    }
                    y.forEach((x) => {
                        var textElem = document.createElementNS(xmlns, "text")
                        textElem.setAttributeNS(null, "x", value.x);
                        textElem.setAttributeNS(null, "y", value.y);
                        textElem.setAttributeNS(null, "transform-origin", value.x+" "+value.y)
                        textElem.setAttributeNS(null, "text-anchor", "middle")
                        textElem.setAttributeNS(null, "transform", " rotate(-" + theseDegrees + ") translate(" + distanceFromCentre + ",0) rotate(" + theseDegrees + ") ")
                        textElem.append(prefix + " " + x)
                        appendTo.append(textElem)
                        theseDegrees += addDegrees
                    })
                })
            }
            window.console.log(key, combinedCount);
        })
     </cript>
     <!--
     -->
    </g>
    <foreignObject x="10" y="10" width="450" height="280" transform-origin="bottom left" transform="translate(536,10)">
        <body xmlns="http://www.w3.org/1999/xhtml" style="font-family: arial">
            <table style="margin: 0 auto;">
                <tr><td>PHP</td><td>JavaScript</td></tr>
                <tr><td>SQL</td><td>JQuery</td></tr>
                <tr><td>Pandoc</td><td>Business Analysis</td></tr>
                <tr><td>Process Engineering</td><td>Solution Architecture</td></tr>
            </table>
        </body>
    </foreignObject>
</svg>